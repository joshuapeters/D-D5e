<div class="container">
	<div class="row col-lg-10">
		<div class="row">
			<div class="dropdown col-md-2">
				<button class="btn btn-primary dropdown-toogle" type="button" data-toggle="dropdown">Add Type Filter
				<span class="caret"></span></button>
				<ul class="dropdown-menu">
					<ng-container *ngFor="let type of types">
						<li><a (click)="addTypeFilter(type)">{{type}}</a></li>
					</ng-container>
				</ul>
			</div>
			<div class="dropdown col-md-3">
				<button class="btn btn-primary dropdown-toogle" type="button" data-toggle="dropdown">Add Alignment Filter
				<span class="caret"></span></button>
				<ul class="dropdown-menu">
					<ng-container *ngFor="let alignment of alignments">
						<li><a (click)="addAlignmentFilter(alignment)">{{alignment}}</a></li>
					</ng-container>
				</ul>
			</div>
			<div class="dropdown col-md-3">
				<button class="btn btn-primary dropdown-toogle" type="button" data-toggle="dropdown">Add CR Filter
				<span class="caret"></span></button>
				<ul class="dropdown-menu">
					<ng-container *ngFor="let cr of crs">
						<li><a (click)="addCRFilter(cr)">{{cr}}</a></li>
					</ng-container>
				</ul>
			</div>
		</div>
		
		<div class="panel panel-danger infoPanel" *ngIf="typeFilters.length > 0">
			<div class="panel-heading" >
				<h3 class="panel-title">Type Filters</h3>
			</div>
			<div class="container">
				<div class="row">
					<div class="col-sm-3 bg-success playerElement" *ngFor="let filter of typeFilters; let i = index;">
						<button class="close" style="margin-top: 7px" (click)="removeTypeFilter(i)">x</button>{{filter}}
					</div>
				</div>
			</div>
		</div>

		<div class="panel panel-warning infoPanel" *ngIf="alignmentFilters.length > 0" >
			<div class="panel-heading" >
				<h3 class="panel-title">Alignment Filters</h3>
			</div>
			<div class="container">
				<div class="row">
					<div class="col-sm-2 bg-success playerElement" *ngFor="let filter of alignmentFilters; let i = index;">
						<button class="close" style="margin-top: 7px" (click)="removeAlignmentFilter(i)">x</button>{{filter}}
					</div>
				</div>
			</div>
		</div>
		
		<div class="panel panel-danger infoPanel" *ngIf="crFilters.length > 0">
			<div class="panel-heading" >
				<h3 class="panel-title">CR Filters</h3>
			</div>
			<div class="container">
				<div class="row">
					<div class="col-sm-3 bg-success playerElement" *ngFor="let filter of crFilters; let i = index;">
						<button class="close" style="margin-top: 7px" (click)="removeCRFilter(i)">x</button>{{filter}}
					</div>
				</div>
			</div>
		</div>
		
		<div class="panel panel-primary monsterContainer" *ngFor="let monster of filteredMonsters;" >
			<div class="panel-heading" >
				<h3 class="panel-title">{{monster.Name}}</h3>
			</div>

			<div class="panel panel-success monsterHeader">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						CR
					</div>
					<div class="col-md-3">
						{{monster.CR}}
					</div>
				</div>
			</div>

			<div class="panel panel-success monsterHeader">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						Size
					</div>
					<div class="col-md-3">
						{{monster.Size}}
					</div>
				</div>
			</div>

			<div class="panel panel-success monsterHeader">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						Type
					</div>
					<div class="col-md-3">
						{{monster.Type}}
					</div>
				</div>
			</div>

			<div class="panel panel-success monsterHeader">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						Alignment
					</div>
					<div class="col-md-3">
						{{monster.Align}}
					</div>
				</div>
			</div>

			<div class="panel panel-success monsterHeader">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						HP
					</div>
					<div class="col-md-3">
						{{monster.HP}}
					</div>
				</div>
			</div>

			<div class="panel panel-success monsterHeader">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						AC
					</div>
					<div class="col-md-3">
						{{monster.AC}}
					</div>
				</div>
			</div>
			
			<div class="panel panel-success monsterHeader" *ngIf="monster.Senses.length > 0">
				<div class="panel-dark monsterRow">
					<div class="col-md-2">
						Senses
					</div>
					<div class="col-md-3">
						<div *ngFor="let sense of monster.Senses">
							{{sense}}
						</div>
					</div>
				</div>
			</div>

			<div class="panel panel-success monsterHeader">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2 attributes"> 
						Attributes
					</div>
					<div class="col-md-3 attributesDef" >
						<div [ngClass]="{'text-success': monster.Strength > 15, 'text-muted': monster.Strength < 10}"> 
							STR: {{ monster.Strength }} 
						</div>
						<div [ngClass]="{'text-success': monster.Dexterity > 15, 'text-muted': monster.Dexterity < 10}"> 
							DEX: {{ monster.Dexterity }} 
						</div>
						<div [ngClass]="{'text-success': monster.Wisdom > 15, 'text-muted': monster.Wisdom < 10}"> 
							WIS: {{ monster.Wisdom }} 
						</div>
						<div [ngClass]="{'text-success': monster.Intelligence > 15, 'text-muted': monster.Intelligence < 10}"> 
							INT: {{ monster.Intelligence }} 
						</div>
						<div [ngClass]="{'text-success': monster.Charisma > 15, 'text-muted': monster.Charisma < 10}"> 
							CHA: {{ monster.Charisma }} 
						</div>
						<div [ngClass]="{'text-success': monster.Constitution > 15, 'text-muted': monster.Constitution < 10}"> 
							CON: {{ monster.Constitution }} 
						</div>
					</div>
				</div>
			</div>
			
			<div class="panel panel-success monsterHeader" *ngIf="monster.Bonuses.length > 0">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						Skill Bonuses
					</div>
					<div class="col-md-3">
						<div *ngFor="let bonus of monster.Bonuses">
							{{bonus}}
						</div>
					</div>
				</div>
			</div>
			
			<div class="panel panel-success monsterHeader"  *ngIf="monster.Saves.length > 0">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						Save Bonuses
					</div>
					<div class="col-md-3">
						<div *ngFor="let save of monster.Saves">
							{{save}}
						</div>
					</div>
				</div>
			</div>
			
			<div class="panel panel-success monsterHeader"  *ngIf="monster.Resistances.length > 0">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						Resistances
					</div>
					<div class="col-md-4">
						<div *ngFor="let resistance of monster.Resistances">
							{{resistance}}
						</div>
					</div>
				</div>
			</div>

			<div class="panel panel-success monsterHeader" *ngIf="monster.Immunities.length > 0">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						Immunities
					</div>
					<div class="col-md-4">
						<div *ngFor="let immunity of monster.Immunities">
							{{immunity}}
						</div>
					</div>
				</div>
			</div>
			
			<div class="panel panel-success monsterHeader" *ngIf="monster.Vulnerabilities.length > 0">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						Vulnerabilities
					</div>
					<div class="col-md-4">
						<div *ngFor="let vulnerable of monster.Vulnerabilities">
							{{vulnerable}}
						</div>
					</div>
				</div>
			</div>

			<div class="panel panel-success monsterHeader">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						Speed
					</div>
					<div class="col-md-3">
						{{monster.Speed}}
					</div>
				</div>
			</div>
			
			<div class="panel panel-success monsterHeader" *ngIf="monster.Spells.length > 0">
				<div class="panel-dark monsterRow" >
					<div class="col-md-2">
						Spells
					</div>
					<div class="col-md-4">
						<div *ngFor="let spell of monster.Spells">
							{{spell}}
						</div>
					</div>
				</div>
			</div>
			

			<span class="monsterListDescription" *ngIf="monster.Traits.length > 0">
				Traits
			</span>

			<div class="panel panel-success monsterHeader" *ngFor="let trait of monster.Traits">
				<div class="panel-dark monsterRow" >
					<div class="monsterRow"> {{trait.Name}} </div>
					<div class="monsterRow"> 
						<span style="display: inline-block" *ngFor="let description of trait.Description">
							{{description}}
							<br/>
						</span>
					</div>
				</div>
			</div>


			<span  class="monsterListDescription" *ngIf="monster.Actions.length > 0">
				Actions
			</span>

			<div class="panel panel-success monsterHeader" *ngFor="let action of monster.Actions">
				<div class="panel-dark monsterRow" >
					<div class="monsterRow"> {{action.Name}} </div>
					<div class="monsterRow" *ngFor="let attack of action.Attacks">
						<label *ngIf="action.Attacks.length > 1">
						{{attack.Name}}
						</label>
						<br/>
						Bonus: +{{attack.ToHitBonus}}
						<br/>
						Damage: {{attack.Damage}}
					</div>
					<div class="monsterRow"> 
						<span style="display: inline-block" *ngFor="let description of action.Description">
							{{description}}
							<br/>
						</span>
					</div>
				</div>
			</div>
			
			<span  class="monsterListDescription" *ngIf="monster.Legendaries.length > 0">
				Legendaries
			</span>

			<div class="panel panel-success monsterHeader" *ngFor="let legendary of monster.Legendaries">
				<div class="panel-dark monsterRow" >
					<div class="monsterRow"> {{legendary.Name}} </div>
					<div class="monsterRow" *ngFor="let attack of legendary.Attacks">
						{{attack.Name}}
						<br/>
						Bonus: +{{attack.ToHitBonus}}
						<br/>
						Damage: {{attack.Damage}}
					</div>
					<div class="monsterRow"> 
						<span style="display: inline-block" *ngFor="let description of legendary.Description">
							{{description}}
							<br/>
						</span>
					</div>
				</div>
			</div>
			
			<span class="monsterListDescription" *ngIf="monster.Reactions.length > 0">
				Reactions
			</span>

			<div class="panel panel-success monsterHeader" *ngFor="let reaction of monster.Reactions">
				<div class="panel-dark monsterRow" >
					<div class="monsterRow"> {{reaction.Name}} </div>
					<div class="monsterRow"> 
						<span style="display: inline-block" *ngFor="let description of reaction.Description">
							{{description}}
							<br/>
						</span>
					</div>
				</div>
			</div>
			
			<div class="panel-footer">
				<button class="btn" style="background-color: #2f542f" (click)="addEncounterMonster(monster)">Add Monster</button>
			</div>
		</div>
	</div>
	<div class="panel panel-primary"
		*ngIf="encounterMonsters.length > 0" 
		style="position: fixed; top: 20%; left: 78%; width: 20%; height:300px">
		<div class="panel-heading" >
			<h3 class="panel-title">Encounter</h3>
		</div>
			<div class="panel-content" style="height: 193px;overflow-y:auto">
				<div class="playerElement" *ngFor="let monster of encounterMonsters; let i = index;" style='background-color: #2f542f'>
					<button class="close" style="margin-top: 7px" (click)="removeEncounterMonster(i)">x</button>
					<span style="float: left"> {{monster.Name}} </span>
					<label> CR: {{monster.CR}} </label>
				</div>
			</div>
		<div class="panel-footer">
			Total XP: {{xp}}
			<button class="btn" style="background-color: #2f542f"(click)="navigateToDetailsPage()"> Go To Details </button>
		</div>
	</div>
</div>